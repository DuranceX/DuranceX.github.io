---
title: çƒŸè‰ä»“å‚¨ç®¡ç†ç³»ç»Ÿå¼€å‘ç¬”è®°ï¼ˆäº”ï¼‰
date: 2022-04-21 22:28:00
tags: å®‰å“
---
# æ‚²æŠ¥
å‰å‡ å¤©å†™å®Œçš„é‡‡è´­è®¢å•ç•Œé¢ï¼ŒèŠ±äº†å¾ˆé•¿çš„æ—¶é—´å»å®ç°æ ‘å½¢åˆ—è¡¨ï¼Œæ„æ€æ•°æ®çš„å‘ˆç°å½¢å¼ï¼Œç®—æ˜¯å†™äº†æŒºå¤šçš„å†…å®¹äº†ï¼Œå‰å¤©æ™šä¸Šæ˜æ˜éƒ½æš‚å‘Šä¸€æ®µè½äº†ï¼Œå´å¿˜è®°äº†pushåˆ°GitHubï¼Œç»“æœæ˜¨å¤©æ‰“å¼€ç”µè„‘ï¼Œå‘ç°å­˜æ”¾æ¯•è®¾çš„ç¡¬ç›˜æŸåäº†ï¼Œç³»ç»Ÿç›´æ¥è¯†åˆ«ä¸åˆ°ç¡¬ç›˜äº†ã€‚ã€‚ã€‚ä¹Ÿå°±æ˜¯å‰å‡ å¤©å†™çš„é‡‡è´­è®¢å•é¡µé¢å…¨éƒ¨ä½œåºŸã€‚GitHubä¸Šçš„æœ€æ–°çš„commitä¹Ÿæ˜¯ä¸¤å¤©å‰çš„ï¼Œç›´æ¥å¯¼è‡´æ˜¨å¤©å¿ƒæ€ç‚¸è£‚ï¼Œæ‘†äº†ä¸€å¤©ã€‚æœŸæœ›ç€ä»Šå¤©ç¡¬ç›˜èƒ½å¤Ÿå¥‡è¿¹èˆ¬æ¢å¤ï¼ˆæ¯•ç«Ÿä¹‹å‰æœ‰è¿‡ä¸€æ¬¡ï¼‰ï¼Œçœ‹æ¥å½“æ—¶å°±ä¸è¯¥å¿ƒå­˜ä¾¥å¹¸ï¼Œç•™ä¸‹è¿™å—ç¡¬ç›˜ï¼Œæ˜æ˜éƒ½ä¹°äº†æ–°ç¡¬ç›˜ï¼Œä½†å› ä¸ºç¡¬ç›˜æ¢å¤äº†ä¾¿ä¹Ÿæ²¡æ›´æ¢ã€‚ä¸è¿‡æ›´é‡è¦çš„è¿˜æ˜¯ä¸€å®šè¦æ³¨æ„å¤‡ä»½ï¼Œè¦æ˜¯é‚£å¤©æ™šä¸Šå°†å†™å®Œçš„å†…å®¹pushåˆ°GitHubä¸Šï¼Œé‚£ä¹ˆç¡¬ç›˜æŸåå€’ä¹Ÿæ— æ‰€è°“äº†ã€‚

ä»Šå¤©é¦–å…ˆç€æ‰‹æŠŠäº§å“ä¿¡æ¯é¡µé¢è°ƒæ•´äº†ä¸€ä¸‹ï¼Œå¹¶ä¸”æŠŠåº“å­˜ç®¡ç†ç•Œé¢ç»™å†™äº†ï¼Œä¸¤ä¸ªè®¢å•ç®¡ç†ç•Œé¢ä¹Ÿç•™ä¸ªå‡ å¤©ï¼Œä¸‡ä¸€ç¡¬ç›˜åˆæ¢å¤äº†å‘¢ğŸ¤¡ä¸è¿‡çœŸæ¢å¤ä¸äº†ä¹Ÿç½¢ï¼Œæ­£å¥½ä¹‹å‰çš„æ–¹æ¡ˆä¹Ÿå­˜åœ¨ä¸€äº›æ— æ³•è§£å†³çš„é—®é¢˜ï¼Œè¿™æ¬¡æ¢ä¸€ä¸ªå®ç°æ–¹å¼ï¼Œæ¢ä¸€ä¸ªæ•°æ®çš„å‘ˆç°æ–¹å¼ã€‚
# äº§å“ä¿¡æ¯ç•Œé¢
ä¹‹å‰çš„äº§å“ä¿¡æ¯ç•Œé¢çš„Itemè®¾è®¡å§‹ç»ˆè§‰å¾—ä¸ç¾è§‚ï¼Œè¾¨è¯†åº¦ä¹Ÿä¸å¤ªå¤Ÿï¼Œå› æ­¤ä»Šå¤©æŠŠäº§å“ä¿¡æ¯ç•Œé¢è¿›è¡Œäº†é‡æ–°çš„è®¾è®¡ï¼Œè€ƒè™‘å†ä¸‰è¿˜æ˜¯ä¸ºäº§å“åŠ ä¸Šäº†å›¾ç‰‡å­—æ®µï¼Œæ›´åŠ ç›´æ¥åœ°æ˜¾ç¤ºäº§å“ä¿¡æ¯ï¼Œä¹Ÿæ–¹ä¾¿åº“å­˜ç®¡ç†ä¸­Itemçš„è®¾è®¡ï¼Œæ­¤å¤–ï¼ŒåŸæœ¬è§‰å¾—é¡µé¢æ²¡æœ‰å…¶ä»–é¢œè‰²ï¼Œè¿‡äºå•è°ƒï¼ŒåŠ ä¸Šå›¾ç‰‡ä¹Ÿæ–¹ä¾¿å¸ƒå±€å’ŒæŸ¥çœ‹ï¼Œè€ŒåŸæ–™ä¿¡æ¯åˆ™æ²¡æœ‰è¿›è¡Œæ›´æ–°ï¼Œä¸€æ˜¯åŸæ–™å›¾ç‰‡ä¹Ÿæ²¡æœ‰ä»€ä¹ˆè¾¨è¯†åº¦ï¼ŒäºŒæ˜¯åŸæ–™åªæ˜¯ä¸ºäº§å“æœåŠ¡è€Œå·²ï¼ˆâ€ä½¿ç”¨åŸæ–™â€œï¼‰
![](https://images.starnight.top/img/20220421224759.png)

é‡æ–°è®¾è®¡åçš„Itemä¸­å»é™¤äº†åç§°å’Œå‹å·çš„æ ‡è¯†labelï¼Œç›´æ¥ç”¨åŠ ç²—çš„å¤§å·å­—ä½“æ˜¾ç¤ºï¼Œä½¿å±‚æ¬¡æ›´åŠ æ¸…æ™°ã€‚

# åº“å­˜ç®¡ç†ç•Œé¢
ç”±äºåº“å­˜ä¿¡æ¯ä¸­æœ‰ä¸¤å¤§å—ï¼Œä¸€ä¸ªæ˜¯äº§å“ï¼Œä¸€ä¸ªæ˜¯åŸæ–™ï¼Œä¸¤è€…éƒ½å­˜å‚¨åœ¨Inventoryæ•°æ®è¡¨ä¸­ï¼Œé€šè¿‡ä¸€ä¸ªå­—æ®µTypeæ¥åˆ†è¾¨å­˜æ”¾çš„æ˜¯åŸæ–™è¿˜æ˜¯äº§å“ï¼ŒåŸæœ¬è®¾æƒ³è¿‡åœ¨ä¸€ä¸ªé¡µé¢ä¸­æ”¾ç½®ä¸¤ä¸ªRecycleViewï¼Œåˆ†åˆ«æ˜¾ç¤ºäº§å“å’ŒåŸæ–™ä¿¡æ¯ï¼Œä½†æ€»è§‰å¾—ä¸å¤ªå¦¥å½“ï¼Œæœ€åè¿˜æ˜¯é€‰æ‹©äº†åº•éƒ¨å¯¼èˆªæ çš„æ–¹å¼ï¼Œå†ç”¨ä¸€ä¸ªNavigationï¼Œåœ¨åº“å­˜çš„Fragmentä¸­å†åµŒå¥—ä¸¤ä¸ªFragmentã€‚ä¸ºäº†å°½å¯èƒ½å¤šçš„æ˜¾ç¤ºäº§å“å’ŒåŸæ–™çš„åº“å­˜æ¡ç›®ï¼Œå°†åŸæœ¬çš„å¤´éƒ¨å¸ƒå±€è¿›è¡Œäº†å‹ç¼©ï¼Œå°†èœå•æŒ‰é’®å’Œæ ‡é¢˜ç­‰æŒªåˆ°äº†åŒä¸€é«˜åº¦ã€‚å…·ä½“ç•Œé¢å¦‚ä¸‹ã€‚
![](https://images.starnight.top/img/20220421230047.png)

åŸæ–™ç•Œé¢ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå°†æ ‡é¢˜æ›´æ¢ä¸€ä¸‹è€Œå·²ã€‚
## FragmentåµŒå¥—å¯¼èˆªå®ç°
å› ä¸ºæ­¤å¤„çš„åº“å­˜ç•Œé¢æœ¬èº«æ˜¯ä¸€ä¸ªFragmentï¼Œåœ¨å…¶ä¸­å†å¥—NavHostFragmentæ—¶å‡ºç°äº†ä¸€ç‚¹é—®é¢˜ï¼Œé¦–å…ˆæ˜¯åˆ›å»ºFragmentï¼Œåˆ›å»ºmenuçš„xmlæ–‡ä»¶ï¼Œåˆ›å»ºnavigationçš„xmlæ–‡ä»¶ï¼Œè¿™äº›éƒ½æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯NavControllçš„è·å–å‡ºç°äº†é—®é¢˜ã€‚åœ¨Activityä¸­é€šè¿‡å¦‚ä¸‹ä»£ç å®ç°å¯¼èˆªã€‚
```java
NavigationView navigationView = findViewById(R.id.navigationView);  
NavHostFragment navHostFragment = (NavHostFragment) 
    getSupportFragmentManager().findFragmentById(R.id.fragmentContainerView);  
NavController controller = navHostFragment.getNavController();  
NavigationUI.setupWithNavController(navigationView,controller);
```
é¦–å…ˆè·å–åˆ°navigationViewï¼Œé€šè¿‡`getSupportFragmentManager()`æ–¹æ³•è·å–FragmentContainerViewï¼Œå¹¶é€šè¿‡ç±»å‹å¼ºè½¬ä¸ºNavHostFragmentï¼Œæœ€åé€šè¿‡NavHostFragmentçš„`getNavControll()`æ–¹æ³•è·å–åˆ°NavControllï¼Œè€Œåœ¨Fragmentå†…éƒ¨çš„NavHostFragmentä¸­ï¼Œé¦–å…ˆå°±æ²¡æœ‰`getSupportFragmentManager()`æ–¹æ³•ï¼Œè¿™æ˜¯Activityçš„æ–¹æ³•ã€‚é‚£ä¹ˆFragmentä¸­ç”¨ä»€ä¹ˆå‘¢ï¼Œåœ¨Fragmentä¸­æœ‰ä¸€ä¸ªæ–¹æ³•`getChildFragmentManager()`ï¼Œå°±æ˜¯ç”¨æ¥è·å–åµŒå¥—ä¸­çš„Fragmentçš„FragmentContainerã€‚äºæ˜¯æˆ‘ä¾¿å‚ç…§Activityï¼Œåœ¨Fragmentçš„onCreate()æ–¹æ³•ä¸­åŠ å…¥äº†ä¿®æ”¹åçš„ä»£ç ï¼Œç»“æœè¿˜æ˜¯æŠ¥é”™ï¼Œç¨‹åºæ‰¾ä¸åˆ°NavHostFragmentï¼Œå³`findFragmentById`æ–¹æ³•æ‰¾åˆ°çš„Fragmentæ˜¯ä¸ªnullï¼Œäºæ˜¯æˆ‘åˆå°è¯•äº†å…¶ä»–çš„æ–¹æ³•ï¼Œç»“æœéƒ½æ²¡æœ‰æˆåŠŸï¼Œæœ€åæ„è¯†åˆ°ä¸€ç‚¹ï¼Œæˆ‘è¦æŸ¥æ‰¾çš„Fragmentæ˜¯é¡µé¢ä¸­çš„ç»„ä»¶ï¼Œè€Œåœ¨Fragmentçš„onCreateæ–¹æ³•ä¸­ï¼Œé¡µé¢éƒ½è¿˜æ²¡æœ‰åˆ›å»ºï¼Œè‡ªç„¶ä¹Ÿå°±æ— æ³•æ‰¾åˆ°é¡µé¢ä¸­çš„ç»„ä»¶äº†ï¼Œäºæ˜¯æŠŠä»£ç æŒªåˆ°äº†onCreateViewä¸­ï¼Œç»“æœæˆåŠŸå®ç°äº†æƒ³è¦çš„æ•ˆæœã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š
```java
@Override  
public View onCreateView(LayoutInflater inflater, ViewGroup container,  
                         Bundle savedInstanceState) {  
    // Inflate the layout for this fragment  
    View view = inflater.inflate(R.layout.fragment_inventory, container, false);  
    BottomNavigationView bottomNavigationView =view.findViewById(R.id.inventoryBottomNavigationView);  
    NavHostFragment navHostFragment = (NavHostFragment) 
        getChildFragmentManager().findFragmentById(R.id.inventoryNavHostFragment);  
    NavController controller = navHostFragment.getNavController();  
    NavigationUI.setupWithNavController(bottomNavigationView,controller);  
    return view;  
}
```
## äº§å“ä¿¡æ¯Itemè®¾è®¡ä¸å®ç°
åº“å­˜ç®¡ç†ä¸­çš„äº§å“ä¿¡æ¯éœ€è¦çš„ä½“ç°çš„å†…å®¹æœ‰äº§å“çš„åç§°å’Œå‹å·ï¼Œäº§å“çš„åº“å­˜æƒ…å†µï¼Œç”±äºäº§å“åªéœ€è¦é”€å”®ï¼Œè€Œä¸éœ€è¦è´­å…¥ï¼Œå› æ­¤è®¾è®¡äº†ä¸¤ä¸ªæ•°æ®ï¼Œä¸€ä¸ªæ˜¯åº“å­˜æ•°é‡ï¼Œä¸€ä¸ªæ˜¯è¿è¾“ä¸­æ•°é‡ï¼ˆå”®å‡ºæ•°é‡ï¼‰ï¼Œå› ä¸ºæ˜¯å‡ºåº“ï¼Œæ‰€ä»¥é¢œè‰²è®¾å®šä¸ºçº¢è‰²ã€‚è€Œåº“å­˜æ•°é‡åˆ™è®¾å®šä¸ºè“è‰²ï¼ŒåŒæ—¶ä¸ºä¸¤ä¸ªæ•°æ®åŠ ä¸Šå¯¹åº”çš„Iconfontå›¾æ ‡ã€‚å…·ä½“å®ç°ç»“æœå¦‚ä¸‹ï¼š
![](https://images.starnight.top/img/20220421232051.png)

ç”±äºåº“å­˜ä¿¡æ¯ä¸­åªéœ€è¦æŸ¥çœ‹ï¼Œè€Œä¸éœ€è¦è¿›è¡Œåˆ é™¤æ“ä½œï¼Œå› æ­¤è¿™é‡Œçš„RecycleViewç§»é™¤äº†æ»‘åŠ¨åˆ é™¤åŠŸèƒ½ã€‚è¿™é‡Œçš„itemå³ä¾§æ·»åŠ äº†ä¸€ä¸ªå‘å³å›¾æ ‡ï¼Œæ ‡å¿—å¯ä»¥ç‚¹å‡»æ‰“å¼€è¿›ä¸€æ­¥çš„è¯¦ç»†é¡µé¢ï¼Œæš‚æ—¶è¿˜æ²¡å†™ğŸ˜‚ï¼Œä¼˜å…ˆçº§å¯èƒ½æ²¡é‚£ä¹ˆé«˜ï¼Œå°½é‡å®ç°ã€‚

## åŸæ–™ä¿¡æ¯Itemè®¾è®¡ä¸å®ç°
åŸæ–™ä¿¡æ¯Itemå’Œäº§å“ä¿¡æ¯Itemç›¸æ¯”ï¼Œå°‘äº†å›¾ç‰‡ï¼Œæ­¤å¤–å› ä¸ºåŸæ–™æ˜¯å…¥åº“ï¼Œå› æ­¤å°†å…¥åº“çš„å­—ä½“é¢œè‰²è®¾å®šä¸ºç»¿è‰²ã€‚å…·ä½“å®ç°æ•ˆæœå¦‚ä¸‹ï¼š
![](https://images.starnight.top/img/20220421232702.png)

## å…¬ç”¨Adapter
å› ä¸ºåŸæ–™ä¿¡æ¯å’Œäº§å“ä¿¡æ¯çš„å†…å®¹å‡ ä¹ç›¸åŒï¼Œå”¯ä¸€çš„åŒºåˆ«åªæ˜¯äº§å“ä¿¡æ¯æœ‰å›¾ç‰‡ï¼Œå› æ­¤ä¸¤ä¸ªRecycleViewå…¬ç”¨ä¸€ä¸ªAdapterï¼Œåœ¨è‡ªå®šä¹‰çš„ViewHolderä¸­å®šä¹‰æ‰€æœ‰çš„ç»„ä»¶ï¼ŒåŒ…æ‹¬ImageViewï¼Œä¸è¿‡å› ä¸ºåœ¨åŸæ–™ä¿¡æ¯ä¸­æ²¡æœ‰ImageViewï¼Œæ‰€ä»¥æ­¤æ—¶åœ¨ViewHolderä¸­findViewByIdæ–¹æ³•æ‰¾åˆ°çš„æ˜¯ä¸ªnullï¼Œæ‰€ä»¥åœ¨èµ‹å€¼æ—¶éœ€è¦è¿›è¡Œåˆ¤æ–­ï¼Œæ ¹æ®æ•°æ®è¡¨ä¸­è®¾è®¡çš„Typeå­—æ®µæ¥åˆ†è¾¨æ˜¯äº§å“ä¿¡æ¯è¿˜æ˜¯åŸæ–™ä¿¡æ¯ï¼Œåªæœ‰åœ¨å½“å‰æ˜¯äº§å“ä¿¡æ¯æ—¶æ‰å¯¹ImageViewè®¾å®šå›¾ç‰‡è·¯å¾„ï¼Œå¦‚æœæ˜¯åŸæ–™ä¿¡æ¯åˆ™ä¸å¯¹ImageViewè¿›è¡Œæ“ä½œã€‚

**ViewHolder**
```java
class MyInventoryViewHolder extends BaseViewHolder {  
    TextView name,model,hostCount,deliveryCount;  
    ImageView image;  
    public MyInventoryViewHolder(@NonNull View view) {  
        super(view);  
        name = view.findViewById(R.id.textViewName);  
        model = view.findViewById(R.id.textViewModel);  
        hostCount = view.findViewById(R.id.textViewHostCount);  
        deliveryCount = view.findViewById(R.id.textViewDeliveryCount);  
        image = view.findViewById(R.id.productImageView);  
    }  
}
```
**èµ‹å€¼æ–¹æ³•**
```java
@Override  
protected void convert(@NonNull MyInventoryViewHolder holder, InventoryTest inventory) {  
    holder.name.setText(inventory.getName());  
    holder.model.setText(inventory.getModel());  
    holder.hostCount.setText(String.valueOf(inventory.getHostCount()));  
    holder.deliveryCount.setText(String.valueOf(inventory.getDeliveryCount()));  
    if (inventory.getType() == InventoryTest.TYPE_PRODUCT)  
        //è®¾ç½®å›¾ç‰‡è·¯å¾„  
        //holder.image.setImageURI();  
}
```

## äº§å“è®¢å•é€è¾¾ç¡®è®¤
åœ¨äº§å“ä¿¡æ¯ç•Œé¢ä¸­ï¼Œæˆ‘ä»ç„¶æ”¾ç½®äº†ä¸€ä¸ªæ·»åŠ æŒ‰é’®ï¼Œä¸è¿‡è¿™ä¸ªæŒ‰é’®ä¸æ˜¯ç”¨æ¥æ·»åŠ äº§å“åº“å­˜ä¿¡æ¯çš„ï¼Œè€Œæ˜¯è¿›è¡Œè®¢å•çš„ç¡®è®¤ï¼Œå› ä¸ºè®¢å•å­˜åœ¨â€è¿è¾“ä¸­â€œè¿™ä¸ªçŠ¶æ€ï¼Œè€Œæ­¤æ—¶è®¢å•ä¸­çš„å”®å‡ºæ•°é‡åŒ…å«åœ¨`deliveryCount`ä¸­ï¼Œä¸”è®¢å•ä¸€ç›´ä¸ºè¿è¾“ä¸­çŠ¶æ€ï¼Œé‚£ä¹ˆè®¢å•æ€ä¹ˆå®Œæˆå‘¢ï¼Œå°±æ˜¯åœ¨åº“å­˜ç•Œé¢ç¡®è®¤è®¢å•é€è¾¾ï¼Œåˆ™è®¢å•çŠ¶æ€æ”¹ä¸ºå®Œæˆï¼Œå¹¶å‡å»å¯¹åº”çš„è¿è¾“ä¸­æ•°é‡ã€‚ç‚¹å‡»æŒ‰é’®åå¼¹å‡ºä¸€ä¸ªåº•éƒ¨å¯¹è¯æ¡†ï¼Œå¯¹è¯æ¡†ä¸­çš„æ•°æ®éƒ½ç”±TextViewå‘ˆç°ï¼Œæ— æ³•ä¿®æ”¹ï¼Œç”¨æˆ·å¯åšçš„å°±æ˜¯é€‰æ‹©è¦æ“ä½œçš„å“ªä¸ªè®¢å•ï¼ˆSpinnerï¼‰ï¼Œä»¥åŠè®¾å®šè®¢å•å®Œæˆçš„æ—¶é—´ã€‚å…·ä½“å®ç°ç•Œé¢å¦‚ä¸‹ï¼š
![](https://images.starnight.top/img/20220421233606.png)

å…¶ä¸­é€è¾¾æ—¥æœŸç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯ä¸€ä¸ªDateç±»å‹çš„è¾“å…¥æ¡†ï¼Œç”¨æˆ·å¯ä»¥æ‰‹åŠ¨è¾“å…¥ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯ä¸€ä¸ªIconFontTextViewï¼Œç”¨äºæ˜¾ç¤ºå›¾æ ‡å¹¶å“åº”ç‚¹å‡»äº‹ä»¶ï¼ŒåŸæœ¬å°è¯•äº†EditTextçš„drawableRightå±æ€§ï¼Œä½†æ˜¾ç¤ºæ•ˆæœå·®å¼ºäººæ„ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œä¸çŸ¥é“æ€ä¹ˆæ ·ï¼ˆèƒ½ä¸èƒ½ï¼‰å•ç‹¬å®ç°è¿™ä¸ªå›¾æ ‡çš„ç‚¹å‡»äº‹ä»¶ï¼Œæ‰€ä»¥å¹²è„†ç”¨IconFontTextViewæ›¿ä»£ã€‚
ç‚¹å‡»æ—¥å†æŒ‰é’®åè·³å‡ºè‡ªå¸¦çš„æ—¥æœŸé€‰æ‹©å™¨ï¼Œä½¿ç”¨çš„æ˜¯DatePickerDialogï¼Œåœ¨æ­¤å¤„ä¹Ÿé‡åˆ°äº†ä¸¤ä¸ªå°é—®é¢˜ã€‚
### åˆå§‹æ—¥æœŸçš„è®¾å®š
ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯åˆå§‹æ—¥æœŸçš„è®¾å®šï¼ŒDatePickerDialogé»˜è®¤æ˜¯1970å¹´é‚£ä¸ªæ—¶é—´ï¼Œé‚£æ˜¾ç„¶ä¸æ–¹ä¾¿ä½¿ç”¨ï¼Œå› æ­¤è®¾å®šäº†ä¸‰ä¸ªå˜é‡åˆ†åˆ«è¡¨ç¤ºå¹´æœˆæ—¥ï¼Œå¹¶é€šè¿‡Calendarç±»è·å–äº†å½“å‰æ—¥æœŸä½œä¸ºåˆå§‹å€¼ã€‚DatePickerDialogçš„æ„é€ å‡½æ•°ä¸­éœ€è¦æœ‰ä¸€ä¸ª`OnDateSetListener`ï¼Œé‚£å°±åˆ›å»ºä¸€ä¸ªï¼Œå½“æ—¥æœŸé€‰æ‹©å®Œæˆæ—¶ï¼Œå°†é€‰æ‹©çš„æ—¥æœŸåˆ†åˆ«èµ‹å€¼ç»™ä¸‰ä¸ªæœ¬åœ°å˜é‡ï¼Œå¹¶åŒæ­¥è®¾ç½®é€è¾¾æ—¥æœŸEditTextçš„æ•°å€¼ï¼Œè€Œæ­¤æ—¶å°±å‡ºç°äº†é—®é¢˜ï¼Œå› ä¸ºå¹´æœˆæ—¥çš„ä¸‰ä¸ªå˜é‡æ˜¯å¤–éƒ¨å˜é‡ï¼Œåœ¨å®šä¹‰`OnDateSetListener`æ—¶æ˜¯å®šä¹‰çš„å†…éƒ¨ç±»ï¼Œè€Œåœ¨å†…éƒ¨ç±»ä¸­è¦ä½¿ç”¨å¤–éƒ¨å˜é‡å°±éœ€è¦å°†å¤–éƒ¨å˜é‡å®šä¹‰ä¸ºfinalï¼Œè€Œå®šä¹‰ä¸ºfinalåˆæ— æ³•èµ‹å€¼ï¼Œæœ€ååªèƒ½ç”¨IDEå»ºè®®çš„ä¿®æ”¹æ–¹å¼ï¼Œå°†å¹´æœˆæ—¥å˜é‡ä¿®æ”¹ä¸ºfinalçš„å•å®¹é‡æ•°ç»„ã€‚å…·ä½“ä»£ç ï¼š
```java
addButton.setOnClickListener(v->{  
    BottomDialog.show("ç¡®è®¤é€è¾¾",new OnBindView<BottomDialog>(R.layout.dialog_inventory_check_product) {  
        @Override  
        public void onBind(BottomDialog dialog, View v) {  
            //TODO: æ·»åŠ â€œç¡®è®¤â€äº‹ä»¶  
            Spinner spinner;  
            TextView name,model,customer,count,price,saleDate,calendar;  
            EditText deliveryDate;  
            final int[] mYear = new int[1];  
            final int[] mMonth = new int[1];  
            final int[] mDay = new int[1];  
            mYear[0] = Calendar.getInstance(Locale.CHINA).get(Calendar.YEAR);  
            mMonth[0] = Calendar.getInstance(Locale.CHINA).get(Calendar.MONTH);  
            mDay[0] = Calendar.getInstance(Locale.CHINA).get(Calendar.DAY_OF_MONTH);  
  
            spinner = v.findViewById(R.id.orderSpinner);  
            name = v.findViewById(R.id.textViewName);  
            model = v.findViewById(R.id.textViewModel);  
            customer = v.findViewById(R.id.textViewCustomer);  
            count = v.findViewById(R.id.textViewCount);  
            price = v.findViewById(R.id.textViewPrice);  
            saleDate = v.findViewById(R.id.textViewSaleDate);  
            calendar = v.findViewById(R.id.textViewCalendar);  
            deliveryDate = v.findViewById(R.id.editTextDeliveryDate);  
  
            calendar.setOnClickListener(view1->{  
                DatePickerDialog.OnDateSetListener mDateSetListener = new DatePickerDialog.OnDateSetListener() {  
                    public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {  
                        mYear[0] = year;  
                        mMonth[0] = monthOfYear;  
                        mDay[0] = dayOfMonth;  
                        deliveryDate.setText(new StringBuilder().append(mYear[0]).append("-")  
                                .append(mMonth[0] + 1).append("-").append(mDay[0]));  
                    }  
                };  
                new DatePickerDialog(getActivity(), mDateSetListener, mYear[0], mMonth[0], mDay[0]).show();  
            });  
        }  
    }).setOkButton("ç¡®å®š").setCancelButton("å–æ¶ˆ");  
});
```

### DatePickerDialogæ˜¾ç¤ºè‹±æ–‡
ä½†æ˜¯å¾ˆå¥‡æ€ªï¼ŒDatePickerDialogé»˜è®¤æ˜¾ç¤ºçš„æ˜¯è‹±æ–‡ï¼Œæ²¡èƒ½æ‰¾åˆ°åŠæ³•ä¿®æ”¹ä¸ºä¸­æ–‡ï¼Œåœ¨ç½‘ä¸ŠæŸ¥é˜…äº†è®¸å¤šä¹Ÿæ²¡å‘ç°æœ‰è¯´è¿™ä¸ªé—®é¢˜çš„ä»€ä¹ˆå†…å®¹ï¼Œä¸è¿‡æœ‰äº›ç±»ä¼¼é—®é¢˜å€’æ˜¯æåˆ°äº†â€ä¿®æ”¹ç¨‹åºçš„é»˜è®¤åœ°å€â€œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå› ä¸ºç¨‹åºçš„é»˜è®¤åœ°å€ä¸æ˜¯ä¸­æ–‡åŒºï¼Œæ‰€ä»¥æ˜¾ç¤ºä¸æ˜¯ä¸­æ–‡ï¼Œæ‰€ä»¥é€šè¿‡è®¾ç½®Localçš„é»˜è®¤å€¼æ¥ä¿®æ”¹åœ°å€
```java
//å°†ç³»ç»Ÿç¯å¢ƒé»˜è®¤è®¾ç½®ä¸ºä¸­æ–‡  
Locale.setDefault(Locale.SIMPLIFIED_CHINESE);
```
è¿™æ ·å°±å¯ä»¥å°†DatePickerDialogæ˜¾ç¤ºä¸ºç®€ä½“ä¸­æ–‡ï¼Œä½†æœ€åå‘ç°å…¶å®é—®é¢˜æ˜¯æˆ‘çš„å®‰å“æ¨¡æ‹Ÿå™¨è®¾ç½®çš„è¯­è¨€æ˜¯è‹±æ–‡ğŸ˜‚ï¼Œæ‰€ä»¥DatePickerDialogä¹Ÿå°±ä½¿ç”¨çš„è‹±æ–‡ï¼Œå°†ç³»ç»Ÿè¯­è¨€æ”¹æˆä¸­æ–‡å°±å¥½äº†ã€‚
![](https://images.starnight.top/img/20220421235246.png)