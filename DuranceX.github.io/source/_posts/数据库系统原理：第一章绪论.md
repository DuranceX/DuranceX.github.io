---
title: 数据库系统原理：第一章绪论
date: 2020-02-28 13:49:53
tags: [数据库系统原理, 笔记]
categories: 数据库系统原理
index_img: /img/数据库系统/header.png
---

数据库系统原理：第一章绪论，包括数据库系统概述、数据模型、数据库系统的结构和数据库系统的组成四部分内容。

<!-- more -->
[^_^]:
    commentted-out contents
    should be shift to right by four spaces (`>>`).

*[内部联系]:是指组成实体的各属性之间的联系
*[之间的联系]:通常是指不同实体集之间的联系
*[逻辑模型]: 逻辑模型主要包括网状模型、层次模型、关系模型等，见下。
*[功能]: 1.数据定义功能   2.数据组织、存储和管理功能    3.数据操作功能    4.数据库的事务管理和运行管理（用户对数据的并发使用、系统故障后恢复数据库等....）    5.数据库的建立和维护功能

# 一、数据库系统概述

## 数据库的四个概念

- 数据（Data）
- 数据库（DB，Database）
  - <font color=#00BFFF>长期存储</font>在计算机内、<font color=#00BFFF>有组织的</font>、<font color=#00BFFF>可共享</font>的<font color=#00BFFF>大量数据</font>的集合
  - 具有最小冗余度是较高的数据独立性
- 数据库管理系统（DBMS，Database Manage System）功能
  - 是一个位于用户和操作系统之间的基础软件
- 数据库系统（DBS，Database System）
  - 指在计算机系统引入数据库后的系统构成
  - <font color=#00BFFF>在不引起混淆的情况下</font>可称数据库系统为数据库，视语境而言
  - 特点
    - 数据结构化
    - 数据的共享性高，冗余度低且意扩充
    - 数据独立性高
      - 物理独立性
      - 逻辑独立性
    - 数据由数据库管理系统统一管理和控制

其中，DBS包括DB和DBMS
DBMS是管理、建立、为何DB的必不可少的软件，一般讲DBMS及其建立的DB总称为DBS

> 为什么说文件系统中数据操作的效率低。
> ——因为文件系统是针对某一特定应用的，所以当我们修改记录的时候，需要在文件中进行对应的修改，还需要考虑不同文件之间的联系，即文件系统的独立性差，所以文件系统中数据操作（比如增、删、改、查）的效率低下。
> ![](/img/数据库系统/文件系统.png)

附：数据管理3个阶段的比较（图源中国大学MOOC中国人民大学相关课程）
![](/img/数据库系统/系统对比.png)

----

# 二、数据模型 

数据模型是数据库系统的核心和基础

## 2.1 两类数据模型
1. 概念模型/信息模型
   按用户的观点来对数据和信息建模，<font color=#00BFFF>用于数据库设计</font>
2. 逻辑模型 和物理模型

   逻辑模型按照计算机系统的观点对数据建模，<font color=#00BFF>用于DBMS实现</font>
   物理模型描述在系统内（磁盘上）的表示方式和存取方式

## 2.2 概念模型

**基本概念**
1. 实体（Entity）
   客观存在并可相互区别的事物称为实体，具体的人、事、物或抽象概念
2. 属性（Attribute）
   实体所具有的某一特性称为属性
3. 码（Key）
   唯一标识实体的属性集称为码
4. 实体型（Entity Type）
   用实体名及其属性名集合来抽象和刻画同类实体称为实体型
5. 实体集（Entity Set）
   同一类型实体的集合称为实体集
6. 联系（Relationship）
   事物 内部联系 以及事物 之间的联系
 
   其中实体之间的联系有一对一(1:1)、一对多(1:m)和多对多(m:n)等类型(一对多可包含一对一)
   ![](/img/数据库系统/联系.png)

![](/img/数据库系统/概念模型例子.png)
以上图为例：

| 概念   | --->  | 所指                |
| :----- | :---: | :------------------ |
| 实体   | --->  | 学生                |
| 属性   | --->  | 学号、姓名、性别... |
| 码     | --->  | 学号                |
| 实体型 | --->  | 学生                |
| 实体集 | --->  | 学生型的集合        |

>此例中概念所对应的具体意思
实体:现实的一个学生
码:可以唯一确定一个学生的属性——学号
实体型:抽象出这些属性后，用这些属性描述的一个学生实体

**概念模型的一种表示方法**
实体-联系方法（Entity-Relationship Approach）
例如：
![](/img/数据库系统/E-R模型.png)

## 2.3数据模型的组成要素

数据模型由三部分组成

**数据结构**
数据结构用来描述系统的静态特性
一般什么结构就叫什么模型，例如
层次结构-层次模型、网状结构-网状模型、关系结构-关系模型......

**数据操作**
- 数据操作的类型（查询、增删修改等）
- 数据操作的语言（查询-Query，更新-DML等）

**完整性约束**
*完整性规则：给定的数据模型中数据及其联系所具有的制约和依存规则*
而完整性约束是一组完整性规则的集合
例如退休年龄的限制

## 2.4层次模型
层次模型用==树形结构==(类似数据结构中的树)来表示各类实体以及实体间的联系

**表示方法**
- 实体型：用记录类型描述
- 树形：用字段描述
- 联系：用结点之间的连线表示记录类型之间的一对多的父子联系

**定义**
满足下面两个条件：
1. 有且只有一个结点没有双亲结点，即根节点
2. 根以外的其他结点有且只有一个双亲结点

**优点**
   - 层次模型的数据结构比较简单清晰
   - 查询效率高，性能优于关系模型，不低于网状模型
   - 提供了良好的完整性支持

**缺点**
   - 结点之间的多对多联系表示不自然
   - 对插入和删除操作的限制比较多（相当于数据结构增删结点，要考虑子节点）
   - 查询子女结点必须通过双亲结点（树特点）


## 2.5网状模型

网状数据库系统采用==网状结构==来表示各类实体以及实体间的联系

**表示方法**
和层次结构相同
- 实体型：用记录类型描述
- 树形：用字段描述
- 联系：用结点之间的连线表示记录类型之间的一对多的父子联系

**定义**
满足下面两个条件：
1. 允许一个以上的结点无双亲
2. 一个结点可以有多于一个的双亲
   
示例：
![](/img/数据库系统/网状模型.png)

**优点**
   - 更直接地描述现实世界，如一个结点可以有多个双亲，比层次结构更符合实际
   - 具有良好的性能

**缺点**
   - 结构复杂，尤其是环境扩大时


<h2 id="relation_module">2.6关系模型</h2>

在==用户观点==下，关系模型中数据的逻辑结构是一张二维表
- 关系：一个关系对应通常的一张表
- 元组：表中的一行即为一个元组
- 属性：表中的一列即为一个属性
- 主码：也称码键。表中的可以唯一确定一个元祖的某个属性组
- 域：属性的取值范围(例如学生的“年龄”属性的域为（15-45）)
- 分量：元组中的一个属性值
- 关系模式：对关系的描述
  >关系名（属性1，属性2.....，属性n）
  学生（学号(主码)，姓名，年龄，系别）

**关系必须是规范化的，最基本的规范条件为 每一个分量必须是一个不可分的数据项，即表中不能还有表。** 例如工资表，包含职工号、姓名、职称、工资四个属性，若工资在表中又分为基本工资、红利、税收，那么这个“工资”项即使另一份小表，说明该工资表中有表，不是规范关系。

关系模型与常规表格术语对照
|  关系术语  |        表格术语        |
| :--------: | :--------------------: |
|   关系名   |          表名          |
|  关系模式  |   表头（表格的描述）   |
|    关系    |         一张表         |
|    元组    |        记录或行        |
|    属性    |        字段或列        |
|   属性名   |      字段名或列名      |
|   属性值   |          列值          |
|    分量    |   一条记录中一个列值   |
| 非规范关系 | 表中有表（合并单元格） |

<a href="https://durancex.github.io/2020/03/07/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86%EF%BC%9A%E7%AC%AC%E4%BA%8C%E7%AB%A0%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93/#Relationship" target="_self">具体介绍</a>


## 2.7三种常用模型比较

|          | 层次模型     | 网状模型     | 关系模型         |
| :------- | :----------- | :----------- | :--------------- |
| 数据结构 | 层次结构——树 | 网状结构——树 | 关系结构——二维表 |
| 数据模型 | 层次模型     | 网状模型     | 关系模型         |

# 三、数据库系统的结构

## 3.1数据库系统模式的概念
模式：一系列关系模式
实例：模式的一个具体值
>例：
“学生选课数据库”模式：学生、课程和学生选课3个关系模式：
>   - 学生表：Student(Sno,Sname,Sage)
>   - 课程表：Course(Cno,Cname)
>   - 学生选课表：SC(Sno,Cno,Grage)
> 
>“学生选课数据库”实例：
>   - 2019年学生数据库实例
>   - 2019年学校所开设的所有课
>   - 2019年所有学生选课情况     

## ==3.2数据库的三级模式结构==

![数据库系统的三级模式结构](/img/数据库系统/三级模式.png)

**模式（也称逻辑模式）**
  - 是数据库中全体数据的逻辑结构和特征的描述
  - <font color=#00BFFF>一般，某个应用的数据库只有一个模式</font>
  - <font color=#00BFFF>模式是数据库系统模式结构的中心</font>
  - 与数据的物理存储模式以及具体的应用程序开发无关
  - 定义模式
    - 定义数据之间的联系
    - 定义与数据有关的安全性、完整性要求


**外模式（也称子模式或用户模式）**
  - 是与某一具体应用有关的数据的逻辑表示
  - 外模式通常是模式的子集，一个模式可以有多个外模式
  - 一个外模式可以为多个应用所用，一个应用只能用一个外模式
  - 用途
    - 使用户只能看见和访问所对应外模式中的数据，简化用户视图的同时保证数据库安全


**内模式（也称存储模式）**
  - 是数据物理结构和存储方式的描述
  - 是数据在数据库内部的表示方式
    - 如存储方式（顺序存储、堆存储....）
    - 数据是否压缩
    - 数据是否加密
    - ...
  - <font color=#00BFFF>一个数据库只有一个内模式</font>


## ==3.3数据库的二级映像==
三级模式是对数据的三个抽象级别
二级映像是指不同模式之间的转换：外模式->模式->内模式
1. 外模式->模式
- 定义外模式与模式之间的转换对应关系
- 因为只有一个模式，有多个外模式，所以数据库中外模式/模式映像是不唯一的
- <font color=#00BFFF>保证逻辑独立性</font>
     - 当模式改变时，不需要修改外模式，只需要修改外模式/模式映像，同时因为外模式不变，所以应用程序也不用进行修改，保证了数据与程序之间的逻辑独立性，简称数据的逻辑独立性

2. 模式->内模式
- 定义模式与内模式之间的转换对应关系
- 因为只有一个模式，一个内模式，所以数据库中模式/内模式映像是唯一的
- <font color=#00BFFF>保证物理独立性</font>
  - 当数据库的存储结构改变了（比如选用另一种存储方式），数据库管理员只需要修改模式/内模式映像，不需要修改模式，模式不变，则应用程序也不变，保证了数据与程序之间的物理独立性，简称数据的物理独立性


# 四、数据库系统的组成
分为数据库、数据库管理系统、应用程序和数据库管理员
或硬件平台及数据库、软件、人员
其中的**人员**分可分为数据库管理员、系统分析员和数据库设计人员、应用程序员、最终用户，<font color=#00BFFF>不同的人员涉及不同的数据抽象级别，具有不同的数据视图</font>
![](/img/数据库系统/数据视图.png)
